(()=>{"use strict";class e{constructor(e,t,n,o,i){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.project=i}}class t{constructor(e,t,n){this.name=e,this.tasks=n}}let n=new Map,o=0;function i(){projectSection.innerHTML="",addToProject.innerHTML="",n.forEach(((e,t)=>{let o=document.createElement("div");o.id=t,o.classList.add("projectLists"),o.innerHTML=e.name+"<p><p>"+e.tasks,projectSection.appendChild(o);let l=document.createElement("option");l.textContent=e.name,l.value=t,l.id=e.name,addToProject.appendChild(l);let d=document.createElement("div");d.id=t,d.innerHTML="<button id ="+t+">Delete Project?</button>",d.addEventListener("click",(e=>function(e){e.preventDefault;let t=parseInt(e.target.id);n.delete(t),i()}(e))),o.appendChild(d)}))}let l=localStorage.getItem("indexC");const d=new Map;function c(t){t.preventDefault();let n=new e;n.title=TDTitle.value,n.description=TDDescrip.value,n.dueDate=TDDueDate.value,n.priority=TDPriority.value,n.project=addToProject.value,d.set(l,n),console.log(d),console.log(addToProject.value),Number.isNaN(l)?l=0:++l,console.log(l),localStorage.setItem("indexC",l),a()}function a(){toDoSection.innerHTML="",d.forEach(((e,t)=>{let o=document.createElement("div");o.id=t,o.classList.add("ToDoListing"),o.innerHTML=e.title+"<p>"+e.description+"<p>"+e.dueDate+"<p>"+e.priority,toDoSection.appendChild(o);let l=document.createElement("div");l.classList.add("PriorityBtn"),l.innerHTML=priorityOptions.innerHTML,l.id=t,l.addEventListener("change",(e=>function(e){e.preventDefault();let t=e.target.value,n=parseInt(e.target.parentElement.id);console.log(n),d.set(n,{...d.get(n),priority:t}),console.log(d),a()}(e))),o.appendChild(l);let c=document.createElement("div");c.classList.add("deleteToDoBtn"),c.id=e.project,c.innerHTML="<button id ="+t+">Delete Task?</button>",c.addEventListener("click",(e=>{(function(e){let t=parseInt(e.target.id);d.delete(t),a()})(e),function(e){e.preventDefault();let t=parseInt(e.target.parentElement.id),o=parseInt(e.target.id),l=n.get(t);l.tasks.splice(o,1),n.set(t,l),console.log(n),i()}(e)})),o.appendChild(c)}))}let r=document.getElementById("submitB"),s=(document.getElementById("TDTitle"),document.getElementById("TDDescrip"),document.getElementById("TDDueDate"),document.getElementById("TDPriority"),document.getElementById("checkLogs"),document.getElementById("submitP"));document.getElementById("TDProject"),document.getElementById("toDoSection"),document.getElementById("projectSection"),document.getElementById("priorityOptions"),document.getElementById("deleteToDoBtn"),document.getElementById("addToProject"),r.addEventListener("click",(e=>{c(e),function(e){e.preventDefault();let t=parseInt(addToProject.value),o=n.get(t),l=TDTitle.value;o.tasks.push(l),console.log(o),n.set(t,o),console.log(n),i()}(e)})),s.addEventListener("click",(e=>function(e){e.preventDefault();let l=new t;l.name=TDProject.value,l.tasks=[],n.set(o,l),o++,console.log(n),i(),TDProject.value=""}(e)))})();